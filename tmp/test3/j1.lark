// Ignore whitespace
%import common.WS
%ignore WS

// Define what a comment looks like and ignore it
COMMENT: ";" /[^\n]*/
%ignore COMMENT

// Define what a number looks like - treat entire number as one token
HEX: /#\$[0-9a-fA-F]+/
DECIMAL: /#[0-9]+/

// Define what a label reference looks like
LABELREF: /[a-zA-Z][a-zA-Z0-9_]*/

// Define what a label looks like using LABELREF
LABEL: LABELREF ":"

// Define instructions
LIT: "LIT"
ADD: "+"
RET: "RET"
CALL: "CALL"
JMP: "JMP"

// Define the structure of our program
?start: program
program: statement*
statement: (LABEL | instruction)
instruction: LIT (HEX | DECIMAL)
          | ADD
          | RET
          | CALL LABELREF
          | JMP LABELREF